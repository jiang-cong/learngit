{"version":3,"sources":["webpack:///src/components/projectManagement/addLeve.vue","webpack:///./src/components/projectManagement/addLeve.vue?5d67","webpack:///./src/components/projectManagement/addLeve.vue"],"names":["addLeve","name","data","height","overflowY","pickerOptions","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","$emit","options","Superior","fileList","beginTime","endTime","boxList","input","input1","value","tableData","brief","upload","methods","handleChange","file","console","log","leveList","_this","this","$axios","get","then","res","newArr","i","length","push","sysId","label","projectNum","addList","delList","index","h","$createElement","$notify","title","message","style","splice","add","del","id","change","preserve","zhi","_this2","newData","j","documentName","documentOverview","projectName","parentProjectNum","documentList","jsonData","stringify_default","post","code","$message","msg","type","$router","error","cancel","mounted","document","documentElement","clientHeight","projectManagement_addLeve","render","_vm","_h","_c","_self","attrs","_v","staticClass","size","clearable","placeholder","model","callback","$$v","expression","_l","item","key","on","click","shadow","staticStyle","font-size","position","right","top","cursor","$event","ref","refInFor","label-width","$set","align","unlink-panels","value-format","range-separator","start-placeholder","end-placeholder","picker-options","width","prop","scopedSlots","_u","fn","scope","row","autosize","action","on-change","$index","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/17.04d7f923eb9de1453ea0.js","sourcesContent":["<template>\n    <div id=\"app\">\n      <header>\n        <h4>添加本级项目</h4>\n         <!-- 选择上级项目的下拉框 -->\n        <div class=\"sel\">\n           <el-select v-model=\"Superior\" size=\"small\" clearable placeholder=\"请选择上级项目编号\">\n              <el-option\n                v-for=\"item in options\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\">\n              </el-option>\n            </el-select>\n        </div>\n        <div class=\"btn\">\n          <!-- <el-button type=\"warning\" size=\"small\" @click=\"preserve('addLeveProject')\">保存</el-button>\n          <el-button type=\"info\" size=\"small\" @click=\"cancel('addLeveProject')\">取消</el-button> -->\n          <el-button type=\"success\" size=\"small\" @click=\"addList\">新增本级项目</el-button>\n        </div>\n      </header>\n      <el-divider></el-divider>\n      <!-- 下方盒子新增详情 -->\n      <div :style=\"height\">\n      <div class=\"box\" v-for=\"(item,index) in boxList\" :key=\"index\">\n      <el-card shadow=\"hover\">\n        <i class=\"el-icon-error\" @click=\"delList(index)\" style=\"font-size:25px;position:absolute;right:-10px;top:-10px;cursor: pointer;\"></i>\n      <div class=\"box-top\">\n        <el-form ref=\"form\" label-width=\"80px\">\n        <ul>\n          <li>\n             <el-form-item label=\"项目编号\">\n              <el-input v-model=\"item.input\" size=\"small\" placeholder=\"请输入项目编号\" clearable></el-input>\n            </el-form-item>\n          </li>\n          <li>\n            <el-form-item label=\"项目名称\">\n              <el-input v-model=\"item.input1\" size=\"small\" placeholder=\"请输入项目名称\" clearable></el-input>\n            </el-form-item>\n          </li>\n          <li>\n            <el-form-item label=\"计划时间\">\n            <el-date-picker\n            v-model=\"item.value\"\n            @change = 'change'\n             size=\"small\"\n            type=\"daterange\"\n            align=\"right\"\n            unlink-panels\n            value-format='yyyy-MM-dd'\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            :picker-options=\"pickerOptions\">\n          </el-date-picker>\n        </el-form-item>\n          </li>\n        </ul>\n        </el-form>\n      </div>\n      <el-divider></el-divider>\n      <!-- 中部内容 -->\n      <div class=\"box-con\">\n        <el-table\n      :data=\"item.tableData\"\n      style=\"width: 100%\">\n      <el-table-column\n        prop=\"name\"\n        label=\"文档名称\"\n        width=\"300px\">\n        <template slot-scope=\"scope\">\n          <el-input v-model=\"scope.row.name\" size=\"small\" placeholder=\"请输入文档名称\" clearable></el-input>\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"brief\"\n        label=\"文档简介\">\n        <template slot-scope=\"scope\">\n          <el-input type=\"textarea\" autosize v-model=\"scope.row.brief\" size=\"small\" placeholder=\"请输入文档简介\" clearable></el-input>\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"upload\"\n        label=\"上传文件\"\n        width=\"200px\">\n        <template>\n\n         <el-upload\n         class=\"upload-demo\"\n         action=\"http://192.168.43.133:8080/projectFinal/insertProjectFinal\"\n         :on-change=\"handleChange\">\n        <i style=\"font-size:30px;\" class=\"el-icon-upload\"></i>\n        </el-upload>\n\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"功能\"\n        width=\"150px\">\n        <template slot-scope=\"scope\">\n          <i class=\"el-icon-plus\" style=\"font-size:20px;\" @click=\"add(index)\"></i>\n          <i class=\"el-icon-minus\" style=\"font-size:20px;\" @click=\"del(scope.$index,index)\"></i>\n        </template>\n      </el-table-column>\n    </el-table>\n      </div>\n\n    </el-card>\n    </div>\n    <!-- 底部按钮 -->\n      <div class=\"box-bot\">\n        <!-- <el-button type=\"success\" size=\"small\" @click=\"addList\">新增本级项目</el-button> -->\n        <!-- <el-button type=\"danger\" size=\"small\" @click=\"delList(index)\">删除本级项目</el-button> -->\n        <el-button type=\"warning\" size=\"small\" @click=\"preserve('addLeveProject')\">保 存</el-button>\n          <el-button type=\"info\" size=\"small\" @click=\"cancel('addLeveProject')\">取 消</el-button>\n      </div>\n    </div>\n\n    </div>\n</template>\n<script>\nexport default {\n    name:'add',\n    data() {\n      return {\n        height:{height:'',overflowY:'auto'},\n        pickerOptions: {\n          shortcuts: [{\n            text: '最近一周',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() + 3600 * 1000 * 24 * 7);\n              picker.$emit('pick', [end, start]);\n            }\n          }, {\n            text: '最近一个月',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() + 3600 * 1000 * 24 * 30);\n              picker.$emit('pick', [end, start]);\n            }\n          }, {\n            text: '最近三个月',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() + 3600 * 1000 * 24 * 90);\n              picker.$emit('pick', [end, start]);\n            }\n          }]\n        },\n        options: [],//下拉框\n        Superior: '',//选择上级项目\n         fileList: [],//上传文件的列表\n         beginTime:'',//开始日期\n          endTime:'',//结束日期\n         boxList:[{\n          input: '',//项目编号\n          input1:'',//项目名称\n          value: '',//计划时间\n          tableData: [{\n            name: '',\n            brief: '',\n            upload: '',\n          },{\n            name: '',\n            brief: '',\n            upload: '',\n          },{\n            name: '',\n            brief: '',\n            upload: '',\n          },{\n            name: '',\n            brief: '',\n            upload: '',\n          },{\n            name: '',\n            brief: '',\n            upload: '',\n          }]},],//多个表格\n      }\n    },\n    methods:{\n      handleChange(file,fileList){\n        console.log(file);\n        console.log(fileList);\n      },\n      leveList(){//上级项目的下拉表数据\n        this.$axios.get('/projectFinal/getAllCheck').then(res=>{\n          console.log(res);\n          var newArr = res.data.data;\n          this.options = [];\n          for(let i = 0;i<newArr.length;i++){\n            this.options.push({\n              value:newArr[i].sysId,\n              label:newArr[i].projectNum\n            })\n          }\n        })\n      },\n      addList(){//新增本级项目\n        this.boxList.push({\n          input: '',//项目编号\n          input1:'',//项目名称\n          value: '',//计划时间\n          tableData: [{\n            name: '',\n            brief: '',\n            upload: '',\n          },{\n            name: '',\n            brief: '',\n            upload: '',\n          },{\n            name: '',\n            brief: '',\n            upload: '',\n          },{\n            name: '',\n            brief: '',\n            upload: '',\n          },{\n            name: '',\n            brief: '',\n            upload: '',\n          }]})\n      },\n      delList(index){//删除本级项目\n          const h = this.$createElement;\n        if(this.boxList.length==1){\n          this.$notify({\n          title: '错误的操作',\n          message: h('i', { style: 'color: teal'}, '最后一条数据不可删除！')\n        });\n        }else{\n          this.boxList.splice(index,1);\n        }\n      },\n      add(index){//新增小表\n          this.boxList[index].tableData.push({\n            name: '',\n            brief: '',\n            upload: '',\n          })\n      },\n      del(id,index){//删除\n      const h = this.$createElement;\n        if(this.boxList[index].tableData.length==1){\n          this.$notify({\n          title: '错误的操作',\n          message: h('i', { style: 'color: teal'}, '最后一条数据不可删除！')\n        });\n        }else{\n          this.boxList[index].tableData.splice(id,1);\n        }\n      },\n      change(data){//时间选择时改变\n        this.beginTime = data[0];\n        this.endTime = data[1];\n        console.log(data)\n      },\n      preserve(zhi){//保存数据\n        var newArr = [];\n        for(let i = 0;i<this.boxList.length;i++){\n          var newData = [];//tableData的数据\n          for(let j = 0;j<this.boxList[i].tableData.length;j++){\n              if(this.boxList[i].tableData[j].name!=''&&this.boxList[i].tableData[j].brief!=''){\n              newData.push({\n                documentName:this.boxList[i].tableData[j].name,//文档名称\n                documentOverview:this.boxList[i].tableData[j].brief//文档简介\n              })\n            }\n          }\n\n          newArr.push({\n            projectNum:this.boxList[i].input,//项目编号\n            projectName:this.boxList[i].input1,//项目名称\n            parentProjectNum:this.Superior,//选择上级项目的sysid\n            beginTime:this.boxList[i].value[0],//开始日期\n            endTime:this.boxList[i].value[1],//结束日期\n            documentList:newData\n            })\n        }\n        var jsonData = JSON.stringify(newArr)\n        console.log(newArr);\n        this.$axios.post('/projectFinal/insertBenJi',jsonData).then(res=>{\n          console.log(res);\n          if(res.data.code==200){\n            this.$message({\n            message: res.data.msg,\n            type: 'success'\n          });\n          this.$router.push({\n          name:zhi\n          });\n          }\n          if(res.data.code==204){\n            this.$message.error(res.data.msg);\n          }\n\n        })\n      },\n      cancel(zhi){//取消\n        this.$router.push({\n          name:zhi\n        })\n      }\n    },\n    mounted(){\n      this.leveList();\n      this.height.height = `${document.documentElement.clientHeight - 120}px`;\n    }\n}\n</script>\n<style scoped>\n  header{\n    display: flex;\n    justify-content: space-between;\n  }\n  header .sel{\n    margin-top: 7.5px;\n  }\n  header h4{\n    margin: 15px 0;\n    margin-left: 15px;\n  }\n  /* 横线 */\n  #app >>> .el-divider--horizontal{\n    margin: 0;\n  }\n  /* 下方盒子新增详情 */\n  .box{\n    margin: 15px;\n    position: relative;\n  }\n  /* 盒子上方css */\n  .box .box-top ul{\n    margin: 0;\n    padding: 0;\n    margin-bottom: 15px;\n    list-style: none;\n    display: flex;\n    justify-content: space-between;\n  }\n  .box .box-top ul >>> .el-form-item{\n    margin: 0;\n  }\n  /* 中部内容 */\n  .box-con >>> .el-table .cell{\n    text-align: center;\n    cursor: pointer;\n    display: flex;\n    justify-content: space-around;\n  }\n  .box-con >>> .el-upload__input{\n    display: none;\n  }\n  .box-con >>> [class*=\" el-icon-\"], [class^=el-icon-]{\n    flex: 1;\n  }\n  /* 底部按钮 */\n  .box-bot{\n    display: flex;\n    width: 400px;\n    margin: 0 auto;\n    margin-top: 15px;\n    justify-content: space-evenly\n  }\n  .box-bot button{\n    width: 100px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/projectManagement/addLeve.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('header',[_c('h4',[_vm._v(\"添加本级项目\")]),_vm._v(\" \"),_c('div',{staticClass:\"sel\"},[_c('el-select',{attrs:{\"size\":\"small\",\"clearable\":\"\",\"placeholder\":\"请选择上级项目编号\"},model:{value:(_vm.Superior),callback:function ($$v) {_vm.Superior=$$v},expression:\"Superior\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"small\"},on:{\"click\":_vm.addList}},[_vm._v(\"新增本级项目\")])],1)]),_vm._v(\" \"),_c('el-divider'),_vm._v(\" \"),_c('div',{style:(_vm.height)},[_vm._l((_vm.boxList),function(item,index){return _c('div',{key:index,staticClass:\"box\"},[_c('el-card',{attrs:{\"shadow\":\"hover\"}},[_c('i',{staticClass:\"el-icon-error\",staticStyle:{\"font-size\":\"25px\",\"position\":\"absolute\",\"right\":\"-10px\",\"top\":\"-10px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.delList(index)}}}),_vm._v(\" \"),_c('div',{staticClass:\"box-top\"},[_c('el-form',{ref:\"form\",refInFor:true,attrs:{\"label-width\":\"80px\"}},[_c('ul',[_c('li',[_c('el-form-item',{attrs:{\"label\":\"项目编号\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入项目编号\",\"clearable\":\"\"},model:{value:(item.input),callback:function ($$v) {_vm.$set(item, \"input\", $$v)},expression:\"item.input\"}})],1)],1),_vm._v(\" \"),_c('li',[_c('el-form-item',{attrs:{\"label\":\"项目名称\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入项目名称\",\"clearable\":\"\"},model:{value:(item.input1),callback:function ($$v) {_vm.$set(item, \"input1\", $$v)},expression:\"item.input1\"}})],1)],1),_vm._v(\" \"),_c('li',[_c('el-form-item',{attrs:{\"label\":\"计划时间\"}},[_c('el-date-picker',{attrs:{\"size\":\"small\",\"type\":\"daterange\",\"align\":\"right\",\"unlink-panels\":\"\",\"value-format\":\"yyyy-MM-dd\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"picker-options\":_vm.pickerOptions},on:{\"change\":_vm.change},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})],1)],1)])])],1),_vm._v(\" \"),_c('el-divider'),_vm._v(\" \"),_c('div',{staticClass:\"box-con\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":item.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"文档名称\",\"width\":\"300px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入文档名称\",\"clearable\":\"\"},model:{value:(scope.row.name),callback:function ($$v) {_vm.$set(scope.row, \"name\", $$v)},expression:\"scope.row.name\"}})]}}],null,true)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"brief\",\"label\":\"文档简介\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":\"\",\"size\":\"small\",\"placeholder\":\"请输入文档简介\",\"clearable\":\"\"},model:{value:(scope.row.brief),callback:function ($$v) {_vm.$set(scope.row, \"brief\", $$v)},expression:\"scope.row.brief\"}})]}}],null,true)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"upload\",\"label\":\"上传文件\",\"width\":\"200px\"}},[[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"http://192.168.43.133:8080/projectFinal/insertProjectFinal\",\"on-change\":_vm.handleChange}},[_c('i',{staticClass:\"el-icon-upload\",staticStyle:{\"font-size\":\"30px\"}})])]],2),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"功能\",\"width\":\"150px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-plus\",staticStyle:{\"font-size\":\"20px\"},on:{\"click\":function($event){return _vm.add(index)}}}),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-minus\",staticStyle:{\"font-size\":\"20px\"},on:{\"click\":function($event){return _vm.del(scope.$index,index)}}})]}}],null,true)})],1)],1)],1)],1)}),_vm._v(\" \"),_c('div',{staticClass:\"box-bot\"},[_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.preserve('addLeveProject')}}},[_vm._v(\"保 存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"info\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.cancel('addLeveProject')}}},[_vm._v(\"取 消\")])],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-386be4c3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/projectManagement/addLeve.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-386be4c3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./addLeve.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./addLeve.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./addLeve.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-386be4c3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./addLeve.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-386be4c3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/projectManagement/addLeve.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}